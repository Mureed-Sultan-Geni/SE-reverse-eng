nav, .nav-overlay {
  @apply top-0 inset-x-0;

  position: $navigation-position;
  height: calc($navigation-height / 1.5);
  background-color: $navigation-background;

  transition:
    border 200ms ease-in-out,
    box-shadow 200ms ease-in-out,
    background-color 200ms ease-in-out,
    filter 0.44s ease-in-out;

  z-index: 99;

  /* Breakpoints */
  .hamburger-block {
    @apply hidden;
  }

  @screen $navigation-mobile-breakpoint {
    .hamburger-block {
      @apply flex;
    }
  }

  @screen md {
    height: $navigation-height;
  }

  .logo {
    width: calc($logo-width / 1.5);
    z-index: 99;
    pointer-events: initial;

    @screen md {
      width: $logo-width;
    }

    path, rect {
      transition: all 400ms ease-in-out;
    }

    &.light {
      path, rect {
        fill: $white;
      }
    }
  }

  a {
    color: $navigation-color;

    &:not(.logo) {
      @apply inline-block;
      /* @apply tracking-widest; */

      font-size: $navigation-font-size;
      font-weight: $navigation-font-weight;
      font-family: $font-navigation;
      text-transform: $navigation-font-case;

      padding-left: $navigation-padding;
      padding-right: $navigation-padding;

      margin-left: $navigation-margin;
      margin-right: $navigation-margin;

      /* &:not(.button):not(.menu-dropdown-btn) {
        &:after {
          @apply absolute bottom-0 opacity-0;

          content: '';
          top: 100%;
          left: 50%;

          width: calc(100% - ($navigation-padding * 2));
          height: $anchor-underline-thickness;
          background-color: $navigation-color-hover;

          transform: translate(-50%, 0);
          transition: all 0.3s, transform 0.3s;
        }


        &:hover, &:focus, &.active {
          color: $navigation-color-hover;

          &:after {
            @apply opacity-25 !important;

            transform: translate(-50%, 0);
          }
        }

        &.active {
          &:after {
            @apply opacity-0 !important;
            height: calc($anchor-underline-thickness * 2);
          }
        }
      } */

      &.border-l {
        @apply border-l pl-8 ml-4;
        border-color: rgba($navigation-color, 0.2);
      }

      &.border-r {
        @apply border-r pl-8 ml-4;
        border-color: rgba($navigation-color, 0.2);
      }
    }
  }

  h4 {
    transition: all .4s ease-in-out;
  }

  [data-name='navMenu'] {
    transition: opacity 0.33s cubic-bezier(0.230, 1.000, 0.320, 1.000);

    @screen $navigation-mobile-breakpoint {
      @apply fixed left-0 w-screen opacity-0 p-6;
      @apply flex items-end justify-start;

      bottom: 100%;
      height: 100vh;

      padding-top: $navigation-height;

      background-color: $navigation-mobile-background;
      transform: translate(0, 0);
      z-index: -1;

      a {
        @apply text-base;
      }

      a:not(.button) {
        @apply block;
        @apply p-0 m-0;
        @apply py-2;
        @apply text-right;

        color: $navigation-mobile-color;
      }

      [data-list] {
        @apply border-b pb-8 mb-4;
        border-color: rgba($navigation-color, 0.2);
      }
    }

    &.open {
      @screen $navigation-mobile-breakpoint {
        @apply flex-col opacity-100;

        transform: translate(0, 100%);
        z-index: 11;
      }
    }
  }

  /* On Scroll Events  */
  &.js-scrolling-down {
    pointer-events: none;

    [data-name='navMenu']:not(.open) {
      opacity: 0;
    }

    box-shadow: $navigation-shadow;
  }

  &.js-scrolling-up {
    background-color: $navigation-background-scroll;
  }
}

.js-nav-open {
  overflow: hidden;

  [data-name='navMenu'] {
    overflow-y: scroll;

    a {
      animation: fade-in-top-sm 1.44s cubic-bezier(0.230, 1.000, 0.320, 1.000) 0.4s both;

      @for $i from 1 to 12 {
        &:nth-child($i) {
          animation-delay: calc($i * 0.14s);
        }
      }
    }
  }
}
